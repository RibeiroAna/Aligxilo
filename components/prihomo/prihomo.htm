<form name="prihomo" data-ng-init="init()">
  <div class="alert alert-danger alert-dismissable" id="eraro"
        ng-show="irita && prihomo.$invalid">
    Estas eraroj en la aliĝilo
  </div>

  <div class="alert alert-success" ng-show="malkovrita">
    Ni sukcesis retrovi viajn datumojn. Se iu ne ŝajnas korekta, skribu al <b>sekretario@co.uea.org</b>
    aŭ ŝanĝu ilin en reta membrospaco.
  </div>

  <h3 class="col-md-12">Pri vi...</h3>
    <ul>
      <li>
        <a href="#!form/kotizoj">Mi deziras nur konsulti kotizojn</a>
      </li>
      <li>
        <a ng-click="montriDetalojn($event, '#ensaluti')" href="">UEA jam havas miajn datumojn</a>
      </li>
    </ul>
    <div class="col-md-12">
      <div class="form-group col-md-4">
        <label for="jaro">Titolo</label>
        <select class="form-control" ng-model="uzanto.titolo"  ng-disabled="malkovrita">
          <option value="S-ro">Sinjoro</option>
          <option value="S-rino">Sinjorino</option>

          <option value="D-ro">Doktoro</option>
          <option value="D-rino">Doktorino</option>

          <option value="Profesoro">Profesoro</option>
          <option value="Profesorino">Profesorino</option>

          <option value="Magistro">Magistro</option>
          <option value="Magistro">Magistrino</option>

          <option value="Pastro">Pastro</option>
          <option value="Pastrino">Pastrino</option>
          <option value="Alia">Alia (ne aplikebla)</option>
        </select>
      </div>
    </div>

    <div class="col-md-12">
      <div class="form-group col-md-6"
           ng-class="{'has-error': (prihomo.personanomo.$touched || irita) && prihomo.personanomo.$invalid }">
        <label> Via(j) personnomo(j)*</label>
        <input type='text'
               ng-disabled="malkovrita"
               class="form-control"
               name="personanomo"
               ng-model="uzanto.personanomo" required>
           <div class="help-block" ng-messages="prihomo.personanomo.$error"
                ng-show="prihomo.personanomo.$touched || irita">
              <div ng-messages-include="config/messages.html"></div>
            </div>
      </div>

      <div class="form-group col-md-6"
           ng-class="{'has-error': (prihomo.familianomo.$touched || irita) && prihomo.familianomo.$invalid}">
        <label> Via(j) familinomo(j)*</label>
        <input type="text"
               class="form-control"
               ng-disabled="malkovrita"
               ng-model="uzanto.familianomo"
               name="familianomo" required>
        <div class="help-block"
             ng-messages="prihomo.familianomo.$error"
             ng-show="prihomo.familianomo.$touched || irita">
           <div ng-messages-include="config/messages.html"></div>
        </div>
      </div>
    </div>

    <div class="col-md-12"
         ng-class="{'has-error': (prihomo.naskigxitago.$touched || irita) && prihomo.naskigxitago.$invalid }">
      <div class="form-group col-md-4">
        <label>Naskiĝidato* (TT/MM/JJJJ)</label>
        <input type="text"
               name="naskigxitago"
               ng-disabled="malkovrita"
               class="form-control"
               ng-model="uzanto.naskigxtagoSenFormo"
               name="naskigxitago"
               placeholder="TT/MM/JJJJ"
               ui-mask="99/99/9999" ui-mask-placeholder required>
          <div class="help-block"
               ng-messages="prihomo.naskigxitago.$error"
               ng-show="prihomo.naskigxitago.$touched || irita">
            <div ng-messages-include="config/messages.html"></div>
          </div>
      </div>
    </div>

    </div>
    <div class="col-md-12">
      <h3>Adreso</h3>
      <div class="form-group col-md-12"
           ng-class="{'has-error': (prihomo.adreso.$touched || irita) && prihomo.adreso.$invalid}">
        <label for="adreso">Strata adreso* (nacilingve per latinaj literoj)</label>
        <textarea class="form-control"
                  rows="5"
                  ng-disabled="malkovrita"
                  name="adreso"
                  ng-model="uzanto.adreso" required></textarea>
        <p>Ĝi estas bezonata por fari fakturojn kaj por eventuale sendi
          aferojn, kaze vi mendos kelkajn el niaj revuoj kaj eldonaĵoj.</p>
        <div class="help-block"
             ng-messages="prihomo.adreso.$error"
             ng-show="prihomo.adreso.$touched || irita">
            <div ng-messages-include="config/messages.html"></div>
         </div>
      </div>

      <div class="form-group col-md-4"
           ng-class="{'has-error': (prihomo.posxtkodo.$touched || irita) && prihomo.posxtkodo.$invalid}">
        <label>Poŝtkodo*</label>
        <input type="text"
               class="form-control"
               ng-disabled="malkovrita"
               name="posxtkodo"
               ng-model="uzanto.posxtkodo" required>
         <div class="help-block"
              ng-messages="prihomo.posxtkodo.$error"
              ng-show="prihomo.posxtkodo.$touched || irita">
             <div ng-messages-include="config/messages.html"></div>
          </div>
      </div>

      <div class="form-group col-md-4"
           ng-class="{'has-error': (prihomo.urbo.$touched || irita) && prihomo.urbo.$invalid}">
        <label>Urbo* (nacilingve per latinaj literoj) </label>
        <input type="text"
               class="form-control"
               ng-disabled="malkovrita"
               name="urbo"
               ng-model="uzanto.urbo" required>
         <div class="help-block"
              ng-messages="prihomo.urbo.$error"
              ng-show="prihomo.urbo.$touched || irita">
             <div ng-messages-include="config/messages.html"></div>
          </div>
      </div>

      <div class="form-group col-md-4">
        <label>Loĝlando*</label>
        <br>
          <img src="{{landInformoj.flag}}" alt="flago" width="20"></img>
          {{uzanto.lando.radikoEo + uzanto.lando.finajxoEo}}
          <a href=""
             ng-click="uzanto.lando=null"
             ng-show="uzanto.lando && !malkovrita"> redakti </a>
          <select ng-hide="uzanto.lando"
                  ng-change="gxisdatigiLandon()"
                  class="form-control"
                  ng-disabled="malkovrita"
                  ng-model="uzanto.lando"
                  ng-options="(l.radikoEo + l.finajxoEo) for l in landoj |
                              localeOrderBy:'radikoEo'" required>
          </select>
      </div>
    </div>

    <div class="col-md-12">
      <h3>Telefonoj</h3>
      <p>(Neniu informo pri telefonoj estas deviga)</p>
      <div class="form-group col-md-4">
        <label for="posxtelefono">Poŝtelefono</label>
        <div class="input-group">
          <span class="input-group-addon">+{{landInformoj.callingCodes[0]}}</span>
          <input type="telephone"
                 id = "posxtelefono"
                ng-disabled="malkovrita"
                class="form-control"
                ng-model="uzanto.telportebla">
        </div>
      </div>

      <div class="form-group col-md-4">
        <label for="hejmtelefono">Hejmtelefono</label>
        <div class="input-group">
          <span class="input-group-addon">+{{landInformoj.callingCodes[0]}}</span>
          <input type="telephone"
                 id = "hejmtelefono"
                 class="form-control"
                 ng-disabled="malkovrita"
                 ng-model="uzanto.telhejmo">
        </div>
      </div>

      <div class="form-group col-md-4">
        <label for="teloficejo">Oficeja telefono</label>
        <div class="input-group">
          <span class="input-group-addon">+{{landInformoj.callingCodes[0]}}</span>
          <input type="telephone"
                  id = "telofciejo"
                  class="form-control"
                  ng-disabled="malkovrita"
                  ng-model="uzanto.teloficejo">
        </div>
      </div>
    </div>

      <h3 class="col-md-12">Por aliri al via reta membrspaco</h3>

      <label class="checkbox-inline col-md-12">
        <input type="checkbox"
               ng-init="membrspaco=true"
               ng-click="membrspaco = !membrspaco"
               ng-disabled="malkovrita">
          Mi <b>NE</b> volas aliron al la reta membrspaco.
      </label>

      <div class="membrspaco col-md-12"
           ng-if="membrspaco">
        <div class="col-md-6"
             ng-class="{'has-error': (prihomo.retposxto.$touched || irita) && prihomo.retposxto.$invalid}">
          <label for="retposxto"> Via retadreso*</label>
          <input type="email"
                  id="retposxto"
                  ng-change="prihomo.retposxto.$error = {}"
                  name="retposxto"
                  class="form-control"
                  ng-disabled="malkovrita"
                  ng-model="uzanto.retposxto" required>
          <div class="help-block"
                ng-messages="prihomo.retposxto.$error"
                ng-show="prihomo.retposxto.$touched || irita">
               <div ng-messages-include="config/messages.html"></div>
          </div>
        </div>

        <div class="form-group col-md-6"
             ng-init="pasvorto=false"
             ng-class="{'has-error': (prihomo.pasvorto.$touched || irita) && prihomo.pasvorto.$invalid }">
          <label for="pasvorto">Via pasvorto*</label>
          <input ng-attr-type="{{pasvorto?'text':'password'}}"
                 id="pasvorto"
                 name="pasvorto"
                 minlength=6
                 ng-disabled="malkovrita"
                 ng-model="uzanto.pasvorto"
                 class="form-control" required>
          <div class="help-block"
                ng-messages="prihomo.pasvorto.$error"
                ng-show="prihomo.pasvorto.$touched || irita">
               <div ng-messages-include="config/messages.html"></div>
          </div>
          <p>
             <input type="checkbox" ng-click="pasvorto = !pasvorto"> Montri pasvorton
          </p>
        </div>
    </div>

    <div class="form-group text-center ">
      <button type="button"
              name="malantauxa"
              ng-click="elPriUzanto()"
              class="btn btn-outline-rounded btn-default">
          Malantaŭa
        <span style="margin-left:10px;"
              class="glyphicon glyphicon-arrow-right"></span></a>
      </button>
    </div>
</form>

<div style="visibility: hidden">
  <div class="md-dialog-container" id="ensaluti">
    <md-dialog flex>
      <md-toolbar class="md-toolbar-tools">
        <h2>Ensalutu por retrovi viajn datumojn</h2>
        <span flex></span>
        <a href="" ng-click="cancel()">
          <i class="fa fa-window-close" aria-hidden="true"></i>
        </a>
      </md-toolbar>
      <md-content class="md-padding">
        <h4>{{msg}}</h4>
        <form ng-submit="ensaluti()">
            <div class="form-group">
              <label for="uzantnomo">Retadreso (konata de UEA):</label>
              <input type="email" class="form-control"
                     id="uzantnomo" ng-model="u.uzantnomo">
            </div>
            <div class="form-group">
              <label for="pwd">Pasvorto:</label>
              <input type="password" class="form-control" id="pwd"
                     ng-model="u.pasvorto">
            </div>
            <button type="submit" class="btn btn-default">Retrovi datumojn</button>
            <br><br>
            Se vi forgesis vian pasvorton, restarigu ĝin en la
            <a href="{{membrospaco_url}}" target="_blank">
              reta membrospaco
            </a>.
            <p>
              Se vi ne sukcesas ensaluti pro iu alia kialo, skribu al <b>info@uea.org</b>
            </p>
        </form>
      </md-content>
    </md-dialog>
  </div>
</div>
